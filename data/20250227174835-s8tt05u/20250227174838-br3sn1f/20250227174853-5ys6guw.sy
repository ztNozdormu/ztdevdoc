{"ID":"20250227174853-5ys6guw","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250227174853-5ys6guw","title":"ERR_INCOMPLETE_CHUNKED_ENCODING 200","type":"doc","updated":"20250227174933"},"Children":[{"ID":"20250227174928-qtm3jgi","Type":"NodeParagraph","Properties":{"id":"20250227174928-qtm3jgi","updated":"20250227174928"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"错误信息:"}]},{"ID":"20250227174928-bh8nb4v","Type":"NodeParagraph","Properties":{"id":"20250227174928-bh8nb4v","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"NET::ERR"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"INCOMPLETE"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"CHUNKED"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"ENCODING200(OK)"}]},{"ID":"20250227174928-hu70hmx","Type":"NodeParagraph","Properties":{"id":"20250227174928-hu70hmx","updated":"20250227174928"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"错误背景:"}]},{"ID":"20250227174928-ws4cw3n","Type":"NodeParagraph","Properties":{"id":"20250227174928-ws4cw3n","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"微服务不通过统一的nginx端口访问，能够正常请求接口并获取对应的响应。"}]},{"ID":"20250227174928-fdsxxbk","Type":"NodeParagraph","Properties":{"id":"20250227174928-fdsxxbk","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"但是通过nginx的话，则出现请求通(也就是响应200)，但始终没有得到正确的响应，提示上述错误 NET::ERR"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"INCOMPLETE"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"CHUNKED"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"ENCODING 200 (OK)。"}]},{"ID":"20250227174928-urruutr","Type":"NodeParagraph","Properties":{"id":"20250227174928-urruutr","updated":"20250227174928"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解决办法:"}]},{"ID":"20250227174928-ny51br2","Type":"NodeParagraph","Properties":{"id":"20250227174928-ny51br2","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"在nginx中的对应的反向代理配置如下内容，即可解决:"}]},{"ID":"20250227174928-m10uy7c","Type":"NodeParagraph","Properties":{"id":"20250227174928-m10uy7c","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"buffer"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"size 1024k;"}]},{"ID":"20250227174928-4e25029","Type":"NodeParagraph","Properties":{"id":"20250227174928-4e25029","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"buffers 16 1024k;"}]},{"ID":"20250227174928-9byolyg","Type":"NodeParagraph","Properties":{"id":"20250227174928-9byolyg","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"busy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"buffers"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"size 2048k;"}]},{"ID":"20250227174928-tja8ejc","Type":"NodeParagraph","Properties":{"id":"20250227174928-tja8ejc","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"temp"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"file"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"write"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"size 2048k;"}]},{"ID":"20250227174928-lmmqbff","Type":"NodeParagraph","Properties":{"id":"20250227174928-lmmqbff","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"我的反向代理完整配置:"}]},{"ID":"20250227174928-ocjh7hq","Type":"NodeParagraph","Properties":{"id":"20250227174928-ocjh7hq","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"location /forecast {"}]},{"ID":"20250227174928-kfqztkp","Type":"NodeParagraph","Properties":{"id":"20250227174928-kfqztkp","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"     proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"pass http://127.0.0.1:9999/;     proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"buffer"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"size 1024k;"}]},{"ID":"20250227174928-t4j5swi","Type":"NodeParagraph","Properties":{"id":"20250227174928-t4j5swi","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"     proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"buffers 16 1024k;"}]},{"ID":"20250227174928-8j08ica","Type":"NodeParagraph","Properties":{"id":"20250227174928-8j08ica","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"     proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"busy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"buffers"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"size 2048k;"}]},{"ID":"20250227174928-1xbrab5","Type":"NodeParagraph","Properties":{"id":"20250227174928-1xbrab5","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"     proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"temp"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"file"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"write"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"size 2048k;"}]},{"ID":"20250227174928-x1mygno","Type":"NodeParagraph","Properties":{"id":"20250227174928-x1mygno","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"}"}]},{"ID":"20250227174928-7bowwv7","Type":"NodeParagraph","Properties":{"id":"20250227174928-7bowwv7","updated":"20250227174928"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"错误原因分析:"}]},{"ID":"20250227174928-e92xp4c","Type":"NodeParagraph","Properties":{"id":"20250227174928-e92xp4c","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"1.nginx配置缓存区设置过小"}]},{"ID":"20250227174928-eblka8w","Type":"NodeParagraph","Properties":{"id":"20250227174928-eblka8w","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"2.nginx的临时目录（/proxy"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"temp）过大或没有权限写入缓存文件"}]},{"ID":"20250227174928-8ci1zpz","Type":"NodeParagraph","Properties":{"id":"20250227174928-8ci1zpz","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"3.磁盘空间不足"}]},{"ID":"20250227174928-o6lo1zz","Type":"NodeParagraph","Properties":{"id":"20250227174928-o6lo1zz","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"经过验证是第一种原因(nginx配置缓冲区设置过小)"}]},{"ID":"20250227174928-2z4suwd","Type":"NodeParagraph","Properties":{"id":"20250227174928-2z4suwd","updated":"20250227174928"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"问"},{"Type":"NodeText","Data":":nginx的缓冲区作用是什么？"}]},{"ID":"20250227174928-831408t","Type":"NodeParagraph","Properties":{"id":"20250227174928-831408t","updated":"20250227174928"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"答"},{"Type":"NodeText","Data":":如果客户端到nginx速度快，nginx到服务器速度慢，没有缓冲区，一点点数据量就直接发到客户端，十分浪费性能。"}]},{"ID":"20250227174928-pbyjknk","Type":"NodeParagraph","Properties":{"id":"20250227174928-pbyjknk","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"有了缓冲区，积累到一定量，再传输到客户端，减少了Tcp请求。"}]},{"ID":"20250227174928-o79j58z","Type":"NodeParagraph","Properties":{"id":"20250227174928-o79j58z","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"相反，客户端到nginx速度慢，nginx到服务器速度快，没有缓冲区，"}]},{"ID":"20250227174928-7nln37l","Type":"NodeParagraph","Properties":{"id":"20250227174928-7nln37l","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"nginx到服务器的连接就会一直保持在那边，直到客户端接受完毕。"}]},{"ID":"20250227174928-s4s6s33","Type":"NodeParagraph","Properties":{"id":"20250227174928-s4s6s33","updated":"20250227174928"},"Children":[{"Type":"NodeText","Data":"有了缓冲区，返回内容放到缓冲区后，nginx到服务器的连接就能断开了，客户端从缓冲区拉取即可。"}]},{"ID":"20250227174928-4o2s0di","Type":"NodeParagraph","Properties":{"id":"20250227174928-4o2s0di","updated":"20250227174933"}}]}